<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nano AI â€” On-Device Chat & Sentiment Analysis</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0a0a0b">
</head>
<body>
  <div class="app">
    <!-- Header -->
    <header class="header">
      <h1 class="logo"><span class="logo-accent">nano</span>AI</h1>
      <div class="status-bar">
        <div class="status-item" id="ai-status">
          <span class="status-dot"></span>
          <span class="status-text">Checking AI...</span>
        </div>
        <div class="status-item" id="network-status">
          <span class="status-dot"></span>
          <span class="status-text">Online</span>
        </div>
      </div>
    </header>

    <!-- Main Grid -->
    <main class="main-grid">
      
      <!-- Column 1: Chatbot -->
      <section class="panel chat-panel">
        <div class="panel-header">
          <h2 class="panel-title">ğŸ’¬ Chat</h2>
          <button class="btn-icon" id="clear-chat" title="Clear chat">ğŸ—‘ï¸</button>
        </div>
        
        <div class="chat-messages" id="chat-messages">
          <div class="chat-welcome">
            <p>Chat with Gemini Nano running locally on your device.</p>
            <p class="chat-hint">All processing happens offline â€” no data leaves your browser.</p>
          </div>
        </div>
        
        <div class="chat-input-area">
          <textarea 
            id="chat-input" 
            class="chat-input" 
            placeholder="Type a message..."
            rows="2"
          ></textarea>
          <button id="chat-send" class="btn-primary" disabled>
            Send
          </button>
        </div>
      </section>

      <!-- Column 2: Sentiment Classifier -->
      <section class="panel classifier-panel">
        <div class="panel-header">
          <h2 class="panel-title">ğŸ¯ Sentiment Classifier</h2>
        </div>
        
        <div class="classifier-content">
          <div class="input-group">
            <label for="text-input" class="input-label">
              <span>Input Text</span>
              <span class="char-count" id="char-count">0 chars</span>
            </label>
            <textarea 
              id="text-input" 
              class="text-input" 
              placeholder="Enter text to analyze sentiment..."
              rows="4"
            ></textarea>
            <button id="classify-btn" class="btn-primary btn-full" disabled>
              Classify Sentiment
            </button>
          </div>

          <!-- Results -->
          <div class="results-section" id="output-section" hidden>
            <div class="result-header">
              <span class="result-label">Result</span>
              <span class="inference-time" id="inference-time"></span>
            </div>

            <div class="primary-result">
              <div class="sentiment-badge" id="sentiment-badge">
                <span class="sentiment-icon"></span>
                <span class="sentiment-label">â€”</span>
              </div>
              <div class="confidence-value" id="confidence-value">â€”%</div>
            </div>

            <div class="score-bars" id="score-bars"></div>

            <div class="reasoning-section" id="reasoning-section" hidden>
              <div class="reasoning-label">Reasoning</div>
              <p class="reasoning-text" id="reasoning-text"></p>
            </div>
          </div>

          <!-- Error Messages -->
          <div class="message-box" id="message-box" hidden>
            <div class="message-icon"></div>
            <div class="message-content">
              <p class="message-title" id="message-title"></p>
              <p class="message-text" id="message-text"></p>
            </div>
          </div>
        </div>
      </section>

      <!-- Column 3: Message Log -->
      <section class="panel log-panel">
        <div class="panel-header">
          <h2 class="panel-title">ğŸ“‹ Message Log</h2>
          <button class="btn-icon" id="clear-log" title="Clear log">ğŸ—‘ï¸</button>
        </div>
        
        <div class="log-messages" id="log-messages">
          <div class="log-empty">No messages yet</div>
        </div>
      </section>

    </main>

    <!-- Footer -->
    <footer class="footer">
      <p>All inference runs locally via Chrome's built-in Gemini Nano. <strong>No data leaves your device.</strong></p>
    </footer>
  </div>

  <script src="src/ai.js"></script>
  <script src="src/ui.js"></script>
  <script src="src/main.js"></script>
</body>
</html>
